"use strict";function triggerEvent(e,t){var n=new Event(e);t.dispatchEvent(n)}var Modal=global&&global.Modal||{},defaultOptions={closeOnBackgroundClick:!0,dismissModalClassName:".modal-close, .modal-close-x",openOnInit:!1};Modal.init=function(e,t){for(var n=document.querySelectorAll(e),o=0;o<n.length;o++){var l=n[o];Modal.setup(l,t)}},Modal.setup=function(e,t){function n(){a=!0}function o(){a=!1}t=Object.assign({},defaultOptions,t);var l=e,a=!1,d=l.querySelectorAll(".modal-bg-close"),i="modal-is-visible";l.addEventListener("modal:open",function(){a||(n(),l.classList.add(i),window.lockScroll(!0,i),o())}),l.addEventListener("modal:close",function(){a||(n(),l.classList.remove(i),window.lockScroll(!1,i),o())}),triggerEvent("modal:opening",l);for(var r=l.querySelectorAll(t.dismissModalClassName),c=0;c<r.length;c++){r[c].addEventListener("click",function(e){e.preventDefault(),triggerEvent("modal:close",l),triggerEvent("modal:closing",l)})}if(t.closeOnBackgroundClick)for(var s=0;s<d.length;s++){d[s].addEventListener("click",function(e){e.preventDefault(),triggerEvent("modal:close",l),triggerEvent("modal:closing",l)})}document.body.addEventListener("keyup",function(e){l.classList.contains(i)&&27===e.which&&(triggerEvent("modal:close",l),triggerEvent("modal:closing",l))}),t.openOnInit&&Modal.open(l)},Modal.open=function(e){triggerEvent("modal:open",e)},document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll("[data-reveal-id]"),t=0;t<e.length;t++){var n=e[t].dataset.revealId;Modal.init("#"+n,e[t].dataset),e[t].addEventListener("click",function(e){e.preventDefault();var t=e.currentTarget.dataset.revealId,n=document.getElementById(t),o=n.dataset.revealFocus;if(Modal.open(n),o){var l=n.querySelector(o);l&&l.focus()}},!1)}}),Modal.init(".flash-modal",{openOnInit:!0});