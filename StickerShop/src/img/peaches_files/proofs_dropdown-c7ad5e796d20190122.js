webpackJsonp([31],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(2),u=r(o),a=n(7),l=r(a),i=n(4),c=r(i),f=n(1345),s=r(f),d=n(1351),p=r(d),m=n(137);n(286);var v=(0,p.default)(m.store,m.actions.loadProofReadyArtworks);m.store.subscribe(v),l.default.render(c.default.createElement(m.USAProvider,null,c.default.createElement(s.default,null)),u.default.getElementById("nav-proofs"))},286:function(e,t){"use strict";var n=Array.prototype,r=n.slice,o=Function.prototype;o.bind||(o.bind=function(e){function t(){var t=n.prototype&&this instanceof n;return n.apply(!t&&e||this,o.concat(r.call(arguments)))}var n=this,o=r.call(arguments,1);return t.prototype=n.prototype,t})},1337:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(870),u=r(o);t.default=function(e,t){var n=e.id,r=e.token,o=e.width,a=e.height,l=e.product_name,i=e.product_permalink,c=e.proof,f=t.locale,s=t.metric;return{id:n,product_name:l,product_permalink:i,proof:c,dimensions:(0,u.default)({width:o,height:a,locale:f,metric:s}),approval_url:"/artworks/"+n+"?token="+r}}},1338:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),u=r(o),a=function(e){var t=e.proof,n=e.size;return u.default.createElement("div",{className:"image-wrapper"},u.default.createElement("img",{src:l(t,n)}))},l=function(e,t){return e&&e[t]?e[t]:"/assets/images/white-6e9ed7416220190122.png"};t.default=a},1345:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),c=r(i),f=n(16),s=n(1346),d=r(s),p=n(1350),m=r(p),v=n(1337),h=r(v),_=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){if(!this.props.user)return null;var e=this.props,t=e.artworksReadyToProof.map(function(t){return(0,h.default)(t,e)});return c.default.createElement("span",null,c.default.createElement("li",{id:"nav-proofs-app-mobile"},c.default.createElement(m.default,{count:t.length,href:"/proofs"})),c.default.createElement("li",{id:"nav-proofs-app"},c.default.createElement(d.default,{artworks:t})))}}]),t}(c.default.Component),w=function(e){var t=e.userStatus;return{user:t.user,locale:t.sitePreferences.locale,metric:"metric"===t.sitePreferences.measurement_system,artworksReadyToProof:t.artworksReadyToProof}};t.default=(0,f.connect)(w)(_)},1346:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),c=r(i),f=n(7),s=r(f),d=n(1347),p=r(d),m=n(1349),v=r(m),h=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dropdownShowing:!1},n.toggleDropdown=n.toggleDropdown.bind(n),n}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props.artworks;return e.length?c.default.createElement("div",null,c.default.createElement(v.default,{count:e.length}),this.state.dropdownShowing?c.default.createElement(p.default,this.props):null):c.default.createElement("div",null)}},{key:"clickWithinComponent",value:function(e){var t=s.default.findDOMNode(this);if(null==t)return!1;var n=e.target;return t.contains(n)}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",this.toggleDropdown),window.closeProofsMenu=function(t){e.clickWithinComponent(t)||e.setState({dropdownShowing:!1})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.toggleDropdown),window.closeProofsMenu=null}},{key:"toggleDropdown",value:function(e){this.setState({dropdownShowing:this.clickWithinComponent(e)&&!this.state.dropdownShowing})}}]),t}(c.default.Component);t.default=h},1347:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),u=r(o),a=n(1348),l=r(a),i=function(e){var t=e.artworks;return u.default.createElement("ul",{className:"popup popup-dropdown",style:{display:"block"}},t.map(c))},c=function(e){return u.default.createElement(l.default,{key:"artwork-"+e.id,artwork:e})};t.default=i},1348:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),u=r(o),a=n(86),l=r(a),i=n(1338),c=r(i),f=n(266),s=r(f),d=l.default.buildTranslateFunction("proofs_dropdown",window.Translation),p=function(e){var t=e.artwork,n=t.proof,r=t.approval_url,o=t.dimensions,a=t.product_name,l=t.product_permalink;return u.default.createElement("li",null,u.default.createElement(s.default,{href:r},u.default.createElement(c.default,{proof:n,size:"thumbnail"}),u.default.createElement("div",null,u.default.createElement("strong",null,a),u.default.createElement("span",{className:"proof-dimensions"},"redraw"!==l&&u.default.createElement(m,null,o)))))},m=function(e){var t=e.children;return u.default.createElement(o.Fragment,null,u.default.createElement("br",null),d("size"),": ",t)};t.default=p},1349:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),u=r(o),a=n(86),l=r(a),i=l.default.buildTranslateFunction("proofs_dropdown",window.Translation),c=function(e){var t=e.count,n=e.href;return t?u.default.createElement("a",{className:"has-items main-nav-link "+(n?"":"popup-more"),href:n||"javascript:void(0)",id:"proofs-menu-link"},i("proofs"),u.default.createElement("span",{className:"nav-proofs-total nav-bubble"},t)):u.default.createElement("div",null)};t.default=c},1350:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),u=r(o),a=n(86),l=r(a),i=n(1349),c=r(i),f=l.default.buildTranslateFunction("proofs_dropdown",window.Translation),s=function(e){var t=e.count,n=e.href;return t?u.default.createElement("div",null,u.default.createElement("div",{className:"heading mobile-nav-only"},f("proofs")),u.default.createElement(c.default,{count:t,href:n})):u.default.createElement("div",null)};t.default=s},1351:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(){var t=e.getState(),n=t.userStatus.user;return n&&n.id},r=void 0;return function(){var e=n();e!==r&&t(e),r=e}}}});